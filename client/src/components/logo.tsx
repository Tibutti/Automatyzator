import { useEffect, useState } from "react";

export default function Logo() {
  const [animate, setAnimate] = useState(false);
  
  useEffect(() => {
    // Uruchamiamy animację po załadowaniu komponentu
    setAnimate(true);
    
    // Ustawiamy interwał aby powtarzać animację co 10 sekund
    const interval = setInterval(() => {
      setAnimate(false);
      // Wprowadzamy małe opóźnienie przed ponownym włączeniem animacji
      setTimeout(() => setAnimate(true), 200);
    }, 10000);
    
    return () => clearInterval(interval);
  }, []);

  return (
    <div className="w-10 h-10 md:w-12 md:h-12 relative flex items-center justify-center">
      {/* Pierścień automatyzacji z gradientem */}
      <div className={`absolute inset-0 rounded-full 
        bg-gradient-to-r from-primary to-accent overflow-hidden
        ${animate ? 'animate-glow' : ''}
      `}>
        <div className="absolute inset-[2px] bg-card rounded-full"></div>
      </div>
      
      {/* Wewnętrzny mechanizm */}
      <div className="relative w-full h-full flex items-center justify-center">
        <svg 
          viewBox="0 0 100 100" 
          fill="none" 
          xmlns="http://www.w3.org/2000/svg"
          className="w-full h-full p-1"
        >
          {/* Tło dla głębi */}
          <circle cx="50" cy="50" r="40" fill="currentColor" fillOpacity="0.05" className="text-primary" />
          
          {/* Zębatka lewa - obracająca się w kierunku przeciwnym do wskazówek zegara */}
          <g className={`${animate ? '-rotate-360' : 'rotate-0'}`} style={{transformOrigin: '35px 50px', transformBox: 'fill-box', transitionDuration: '4000ms'}}>
            <path 
              d="M35 25C30.0294 25 26 29.0294 26 34V34.7022C26 35.0821 25.7349 35.4109 25.3687 35.5247L24.8353 35.6863C24.4691 35.8001 24.1032 35.6294 23.9485 35.2785V35.2785C23.0518 33.3806 21.1177 32.1724 19 32.1724C15.6863 32.1724 13 34.8586 13 38.1724C13 41.4861 15.6863 44.1724 19 44.1724C21.1206 44.1724 22.9571 43.0378 23.8539 41.2233V41.2233C24.0093 40.8806 24.3672 40.7169 24.7266 40.8297L25.2943 40.9983C25.6537 41.1111 25.9167 41.4475 25.9167 41.8258V42.5C25.9167 44.9853 23.9019 47 21.4167 47H20.5833C20.1691 47 19.8167 47.3237 19.752 47.733L19.663 48.3128C19.5982 48.7221 19.7929 49.1248 20.1803 49.2973V49.2973C22.0782 50.2226 23.3448 52.1567 23.3448 54.2759C23.3448 57.5896 20.6586 60.2759 17.3448 60.2759C14.0311 60.2759 11.3448 57.5896 11.3448 54.2759C11.3448 52.1539 12.4804 50.3163 14.296 49.42V49.42C14.6392 49.2648 14.8034 48.907 14.6903 48.5475L14.5213 47.9789C14.4082 47.6195 14.0715 47.3564 13.693 47.3564H13C11.067 47.3564 9.5 45.7894 9.5 43.8564V42.1436C9.5 41.7296 9.17627 41.3773 8.76693 41.3126L8.18716 41.2236C7.7778 41.1588 7.37513 41.3536 7.20269 41.741V41.741C6.27738 43.6388 4.34328 44.9054 2.22414 44.9054C-1.08957 44.9054 -3.77586 42.2191 -3.77586 38.9054C-3.77586 35.5917 -1.08957 32.9054 2.22414 32.9054C4.34608 32.9054 6.18371 34.0401 7.07995 35.8546V35.8546C7.23538 36.1972 7.59326 36.3609 7.95267 36.2481L8.52123 36.0796C8.88064 35.9668 9.14368 35.6304 9.14368 35.2521V34.5C9.14368 32.0147 11.1584 30 13.6437 30H14.4771C14.8912 30 15.2436 29.6763 15.3083 29.267L15.3973 28.6872C15.4621 28.2779 15.2673 27.8752 14.8799 27.7028V27.7028C12.982 26.7774 11.7155 24.8433 11.7155 22.7241C11.7155 19.4104 14.4017 16.7241 17.7155 16.7241C21.0292 16.7241 23.7155 19.4104 23.7155 22.7241C23.7155 24.8461 22.5798 26.6837 20.7643 27.58V27.58C20.4211 27.7352 20.2569 28.093 20.37 28.4525L20.539 29.0211C20.6521 29.3805 20.9888 29.6436 21.3672 29.6436H22.0603C23.9933 29.6436 25.5603 31.2106 25.5603 33.1436V34.8564C25.5603 35.2704 25.884 35.6227 26.2934 35.6874L26.8731 35.7764C27.2825 35.8412 27.6852 35.6464 27.8576 35.259V35.259C28.7829 33.3611 30.717 32.0946 32.8362 32.0946C36.1499 32.0946 38.8362 34.7809 38.8362 38.0946C38.8362 41.4083 36.1499 44.0946 32.8362 44.0946C30.7143 44.0946 28.8766 42.9599 27.9804 41.1454V41.1454C27.8249 40.8028 27.467 40.6391 27.1076 40.7519L26.5391 40.9204C26.1797 41.0332 25.9166 41.3696 25.9166 41.7479V42.5C25.9166 44.9853 23.9019 47 21.4166 47H20.5833C20.1691 47 19.8167 47.3237 19.752 47.733L19.663 48.3128C19.5982 48.7221 19.7929 49.1248 20.1803 49.2973V49.2973C22.0782 50.2226 23.3448 52.1567 23.3448 54.2759C23.3448 57.5896 20.6586 60.2759 17.3448 60.2759C14.0311 60.2759 11.3448 57.5896 11.3448 54.2759C11.3448 52.1539 12.4804 50.3163 14.296 49.42V49.42C14.6392 49.2648 14.8034 48.907 14.6903 48.5475L14.5213 47.9789C14.4082 47.6195 14.0715 47.3564 13.693 47.3564H13C11.067 47.3564 9.5 45.7894 9.5 43.8564V42.6436C9.5 41.0142 10.8239 39.6903 12.4534 39.6903H12.8022C13.2335 39.6903 13.609 39.3698 13.7005 38.9468L13.8064 38.4606C13.898 38.0376 13.7234 37.6031 13.3429 37.4045V37.4045C11.2988 36.3188 10 34.166 10 31.6903C10 28.2046 12.8239 25.3807 16.3097 25.3807C19.7954 25.3807 22.6193 28.2046 22.6193 31.6903C22.6193 34.1681 21.3179 36.3221 19.2712 37.4064V37.4064C18.8923 37.6042 18.7188 38.0373 18.8101 38.4589L18.9159 38.9433C19.0071 39.3648 19.3817 39.6839 19.8118 39.6839H35C39.9706 39.6839 44 35.6545 44 30.6839C44 25.7134 39.9706 21.684 35 21.684C30.0294 21.684 26 25.7134 26 30.6839V33C26 34.1046 25.1046 35 24 35H23C21.8954 35 21 34.1046 21 33V23C21 21.8954 21.8954 21 23 21H24C25.1046 21 26 21.8954 26 23V25C26 25 30.0294 25 35 25Z" 
              fill="currentColor"
              className="text-accent/20"
            />
            
            {/* Zęby zębatki - widoczne */}
            <path 
              d="M35 31C33.3431 31 32 32.3431 32 34C32 35.6569 33.3431 37 35 37C36.6569 37 38 35.6569 38 34C38 32.3431 36.6569 31 35 31ZM35 35C34.4477 35 34 34.5523 34 34C34 33.4477 34.4477 33 35 33C35.5523 33 36 33.4477 36 34C36 34.5523 35.5523 35 35 35Z"
              fill="currentColor"
              className="text-primary"
            />
            <path
              d="M33.5 45.5C33.5 46.8807 32.3807 48 31 48C29.6193 48 28.5 46.8807 28.5 45.5C28.5 44.1193 29.6193 43 31 43C32.3807 43 33.5 44.1193 33.5 45.5Z"
              fill="currentColor"
              className="text-primary"
            />
            <path
              d="M25 39C25 40.1046 24.1046 41 23 41C21.8954 41 21 40.1046 21 39C21 37.8954 21.8954 37 23 37C24.1046 37 25 37.8954 25 39Z"
              fill="currentColor"
              className="text-primary"
            />
          </g>
          
          {/* Zębatka prawa - obracająca się zgodnie z wskazówkami zegara */}
          <g className={`${animate ? 'rotate-180' : 'rotate-0'}`} style={{transformOrigin: '65px 50px', transformBox: 'fill-box', transitionDuration: '4000ms'}}>
            <path 
              d="M65 65C69.9706 65 74 60.9706 74 56V55.2978C74 54.9179 74.2651 54.5891 74.6313 54.4753L75.1647 54.3137C75.5309 54.1999 75.8968 54.3706 76.0515 54.7215V54.7215C76.9482 56.6194 78.8823 57.8276 81 57.8276C84.3137 57.8276 87 55.1414 87 51.8276C87 48.5139 84.3137 45.8276 81 45.8276C78.8794 45.8276 77.0429 46.9622 76.1461 48.7767V48.7767C75.9907 49.1194 75.6328 49.2831 75.2734 49.1703L74.7057 49.0017C74.3463 48.8889 74.0833 48.5525 74.0833 48.1742V47.5C74.0833 45.0147 76.0981 43 78.5833 43H79.4167C79.8309 43 80.1833 42.6763 80.248 42.267L80.337 41.6872C80.4018 41.2779 80.2071 40.8752 79.8197 40.7027V40.7027C77.9218 39.7774 76.6552 37.8433 76.6552 35.7241C76.6552 32.4104 79.3414 29.7241 82.6552 29.7241C85.9689 29.7241 88.6552 32.4104 88.6552 35.7241C88.6552 37.8461 87.5196 39.6837 85.704 40.58V40.58C85.3608 40.7352 85.1966 41.093 85.3097 41.4525L85.4787 42.0211C85.5918 42.3805 85.9285 42.6436 86.307 42.6436H87C88.933 42.6436 90.5 44.2106 90.5 46.1436V47.8564C90.5 48.2704 90.8237 48.6227 91.2331 48.6874L91.8128 48.7764C92.2222 48.8412 92.6249 48.6464 92.7973 48.259V48.259C93.7226 46.3612 95.6567 45.0946 97.7759 45.0946C101.09 45.0946 103.776 47.7809 103.776 51.0946C103.776 54.4083 101.09 57.0946 97.7759 57.0946C95.6539 57.0946 93.8163 55.9599 92.92 54.1454V54.1454C92.7646 53.8028 92.4067 53.6391 92.0473 53.7519L91.4788 53.9204C91.1194 54.0332 90.8563 54.3696 90.8563 54.7479V55.5C90.8563 57.9853 88.8416 60 86.3563 60H85.5229C85.1088 60 84.7564 60.3237 84.6917 60.733L84.6027 61.3128C84.5379 61.7221 84.7327 62.1248 85.1201 62.2972V62.2972C87.018 63.2226 88.2845 65.1567 88.2845 67.2759C88.2845 70.5896 85.5983 73.2759 82.2845 73.2759C78.9708 73.2759 76.2845 70.5896 76.2845 67.2759C76.2845 65.1539 77.4202 63.3163 79.2357 62.42V62.42C79.5789 62.2648 79.7431 61.907 79.63 61.5475L79.461 60.9789C79.3479 60.6195 79.0112 60.3564 78.6328 60.3564H77.9397C76.0067 60.3564 74.4397 58.7894 74.4397 56.8564V55.1436C74.4397 54.7296 74.116 54.3773 73.7066 54.3126L73.1269 54.2236C72.7175 54.1588 72.3148 54.3536 72.1424 54.741V54.741C71.2171 56.6389 69.283 57.9054 67.1638 57.9054C63.8501 57.9054 61.1638 55.2191 61.1638 51.9054C61.1638 48.5917 63.8501 45.9054 67.1638 45.9054C69.2857 45.9054 71.1234 47.0401 72.0196 48.8546V48.8546C72.1751 49.1972 72.533 49.3609 72.8924 49.2481L73.4609 49.0796C73.8203 48.9668 74.0834 48.6304 74.0834 48.2521V47.5C74.0834 45.0147 76.0981 43 78.5834 43H79.4167C79.8309 43 80.1833 42.6763 80.248 42.267L80.337 41.6872C80.4018 41.2779 80.2071 40.8752 79.8197 40.7027V40.7027C77.9218 39.7774 76.6552 37.8433 76.6552 35.7241C76.6552 32.4104 79.3414 29.7241 82.6552 29.7241C85.9689 29.7241 88.6552 32.4104 88.6552 35.7241C88.6552 37.8461 87.5196 39.6837 85.704 40.58V40.58C85.3608 40.7352 85.1966 41.093 85.3097 41.4525L85.4787 42.0211C85.5918 42.3805 85.9285 42.6436 86.307 42.6436H87C88.933 42.6436 90.5 44.2106 90.5 46.1436V47.3564C90.5 48.9858 89.1761 50.3097 87.5466 50.3097H87.1978C86.7665 50.3097 86.391 50.6302 86.2995 51.0532L86.1936 51.5394C86.102 51.9624 86.2766 52.3969 86.6571 52.5955V52.5955C88.7012 53.6812 90 55.834 90 58.3097C90 61.7954 87.1761 64.6193 83.6903 64.6193C80.2046 64.6193 77.3807 61.7954 77.3807 58.3097C77.3807 55.8319 78.6821 53.6779 80.7288 52.5936V52.5936C81.1077 52.3958 81.2812 51.9627 81.1899 51.5411L81.0841 51.0567C80.9929 50.6352 80.6183 50.3161 80.1882 50.3161H65C60.0294 50.3161 56 54.3455 56 59.3161C56 64.2866 60.0294 68.316 65 68.316C69.9706 68.316 74 64.2866 74 59.3161V57C74 55.8954 74.8954 55 76 55H77C78.1046 55 79 55.8954 79 57V67C79 68.1046 78.1046 69 77 69H76C74.8954 69 74 68.1046 74 67V65C74 65 69.9706 65 65 65Z" 
              fill="currentColor"
              className="text-accent/20"
            />
            
            {/* Zęby zębatki - widoczne */}
            <path 
              d="M65 59C66.6569 59 68 57.6569 68 56C68 54.3431 66.6569 53 65 53C63.3431 53 62 54.3431 62 56C62 57.6569 63.3431 59 65 59ZM65 57C65.5523 57 66 56.5523 66 56C66 55.4477 65.5523 55 65 55C64.4477 55 64 55.4477 64 56C64 56.5523 64.4477 57 65 57Z"
              fill="currentColor"
              className="text-primary"
            />
            <path
              d="M66.5 44.5C66.5 43.1193 67.6193 42 69 42C70.3807 42 71.5 43.1193 71.5 44.5C71.5 45.8807 70.3807 47 69 47C67.6193 47 66.5 45.8807 66.5 44.5Z"
              fill="currentColor"
              className="text-primary"
            />
            <path
              d="M75 51C75 49.8954 75.8954 49 77 49C78.1046 49 79 49.8954 79 51C79 52.1046 78.1046 53 77 53C75.8954 53 75 52.1046 75 51Z"
              fill="currentColor"
              className="text-primary"
            />
          </g>
          
          {/* Litera A utworzona z dwóch diagonalnych linii */}
          <path 
            d="M40 70L50 30L60 70" 
            stroke="currentColor" 
            strokeWidth="8" 
            strokeLinecap="round" 
            strokeLinejoin="round"
            className="text-primary"
          />
          <path 
            d="M42 60H58" 
            stroke="currentColor" 
            strokeWidth="8" 
            strokeLinecap="round"
            className="text-primary"
          />
        </svg>
      </div>
      
      {/* Pulsująca kropka symbolizująca status procesu - zmiana kolorów */}
      <div className="absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 rounded-full animate-status"></div>
    </div>
  );
}
